<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Multibody.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Multibody.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="examples/pendulum/">Hello world: Pendulum</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/spring_damper_system/">Spring-damper system</a></li><li><a class="tocitem" href="examples/spring_mass_system/">Spring-mass system</a></li><li><a class="tocitem" href="examples/three_springs/">Three springs (series forces)</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Multibody"><a class="docs-heading-anchor" href="#Multibody">Multibody</a><a id="Multibody-1"></a><a class="docs-heading-anchor-permalink" href="#Multibody" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/YingboMa/Multibody.jl">Multibody</a>.</p><ul><li><a href="#Multibody.world"><code>Multibody.world</code></a></li><li><a href="#Multibody.Body-Tuple{}"><code>Multibody.Body</code></a></li><li><a href="#Multibody.BodyShape-Tuple{}"><code>Multibody.BodyShape</code></a></li><li><a href="#Multibody.Damper-Tuple{}"><code>Multibody.Damper</code></a></li><li><a href="#Multibody.Prismatic-Tuple{}"><code>Multibody.Prismatic</code></a></li><li><a href="#Multibody.Revolute-Tuple{}"><code>Multibody.Revolute</code></a></li><li><a href="#Multibody.Spring-Tuple{}"><code>Multibody.Spring</code></a></li><li><a href="#Multibody.abs_rotation-Tuple{Any, Any}"><code>Multibody.abs_rotation</code></a></li><li><a href="#Multibody.at_variables_t-Tuple"><code>Multibody.at_variables_t</code></a></li><li><a href="#Multibody.axisRotation-Tuple{Any, Any}"><code>Multibody.axisRotation</code></a></li><li><a href="#Multibody.gravity_acceleration-Tuple{Any}"><code>Multibody.gravity_acceleration</code></a></li><li><a href="#Multibody.resolve1-Tuple{RotationMatrix, Any}"><code>Multibody.resolve1</code></a></li><li><a href="#Multibody.resolve2-Tuple{RotationMatrix, Any}"><code>Multibody.resolve2</code></a></li><li><a href="#Multibody.rotx"><code>Multibody.rotx</code></a></li><li><a href="#Multibody.roty"><code>Multibody.roty</code></a></li><li><a href="#Multibody.rotz"><code>Multibody.rotz</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Multibody.world" href="#Multibody.world"><code>Multibody.world</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>The world component is the root of all multibody models. It is a fixed frame with a parallel gravitational field and a gravity vector specified by the unit direction <code>world.n</code> (defaults to [0, -1, 0]) and magnitude <code>world.g</code> (defaults to 9.81).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/components.jl#L42-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.Body-Tuple{}" href="#Multibody.Body-Tuple{}"><code>Multibody.Body</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Body(; name, m = 1, r_cm, I = collect(0.001 * LinearAlgebra.I(3)), isroot = false, phi0 = zeros(3), phid0 = zeros(3), r_0=zeros(3))</code></pre><p>Representing a body with 3 translational and 3 rotational degrees-of-freedom.</p><ul><li><code>m</code>: Mass</li><li><code>r_cm</code>: Vector from <code>frame_a</code> to center of mass, resolved in <code>frame_a</code></li><li><code>I</code>: Inertia matrix of the body</li><li><code>isroot</code>: Indicate whether this component is the root of the system, useful when there are no joints in the model.</li><li><code>phi0</code>: Initial orientation, only applicable if <code>isroot = true</code></li><li><code>phid0</code>: Initial angular velocity</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/components.jl#L170-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.BodyShape-Tuple{}" href="#Multibody.BodyShape-Tuple{}"><code>Multibody.BodyShape</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">BodyShape(; name, m = 1, r, kwargs...)</code></pre><p>The <code>BodyShape</code> component is similar to a <a href="#Multibody.Body-Tuple{}"><code>Body</code></a>, but it has two frames and a vector <code>r</code> that describes the translation between them, while the body has a single frame only.</p><ul><li><code>r</code>: Vector from <code>frame_a</code> to <code>frame_b</code> resolved in <code>frame_a</code></li><li>All <code>kwargs</code> are passed to the internal <code>Body</code> component.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/components.jl#L269-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.Damper-Tuple{}" href="#Multibody.Damper-Tuple{}"><code>Multibody.Damper</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Damper(; d, name, kwargs)</code></pre><p>Linear damper acting as line force between <code>frame_a</code> and <code>frame_b</code>. A force <code>f</code> is exerted on the origin of <code>frame_b</code> and with opposite sign on the origin of <code>frame_a</code> along the line from the origin of <code>frame_a</code> to the origin of <code>frame_b</code> according to the equation:</p><p class="math-container">\[f = d D(s)\]</p><p>where <code>d</code> is the (viscous) damping parameter, <code>s</code> is the distance between the origin of <code>frame_a</code> and the origin of <code>frame_b</code> and <code>D(s)</code> is the time derivative of <code>s</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>d</code>: Damping coefficient</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/forces.jl#L293-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.Prismatic-Tuple{}" href="#Multibody.Prismatic-Tuple{}"><code>Multibody.Prismatic</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Prismatic(; name, n = [0, 0, 1], useAxisFlange = false, isroot = true)</code></pre><p>Prismatic joint with 1 translational degree-of-freedom</p><ul><li><code>n</code>: The axis of motion (unit vector)</li><li><code>useAxisFlange</code>: If true, the joint will have two additional frames from Mechanical.Translational, <code>axis</code> and <code>support</code>, between which translational components such as springs and dampers can be connected.</li><li><code>isroot</code>: If true, the joint will be considered the root of the system.</li></ul><p>If <code>useAxisFlange</code>, flange connectors for ModelicaStandardLibrary.Mechanics.TranslationalModelica are also available:</p><ul><li><code>axis</code>: 1-dim. translational flange that drives the joint</li><li><code>support</code>: 1-dim. translational flange of the drive support (assumed to be fixed in the world frame, NOT in the joint)</li></ul><p>The function returns an ODESystem representing the prismatic joint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/joints.jl#L71-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.Revolute-Tuple{}" href="#Multibody.Revolute-Tuple{}"><code>Multibody.Revolute</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Revolute(; name, phi0 = 0, w0 = 0, n, useAxisFlange = false)</code></pre><p>Revolute joint with 1 rotational degree-of-freedom</p><ul><li><code>phi0</code>: Initial angle</li><li><code>w0</code>: Iniitial angular velocity</li><li><code>n</code>: The axis of rotation</li><li><code>useAxisFlange</code>: If true, the joint will have two additional frames from Mechanical.Rotational, <code>axis</code> and <code>support</code>, between which rotational components such as springs and dampers can be connected.</li></ul><p>If <code>useAxisFlange</code>, flange connectors for ModelicaStandardLibrary.Mechanics.Rotational are also available:</p><ul><li><code>axis</code>: 1-dim. rotational flange that drives the joint</li><li><code>support</code>: 1-dim. rotational flange of the drive support (assumed to be fixed in the world frame, NOT in the joint)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/joints.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.Spring-Tuple{}" href="#Multibody.Spring-Tuple{}"><code>Multibody.Spring</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Spring(; c, name, m = 0, lengthFraction = 0.5, s_unstretched = 0, kwargs)</code></pre><p>Linear spring acting as line force between <code>frame_a</code> and <code>frame_b</code>. A force <code>f</code> is exerted on the origin of <code>frame_b</code> and with opposite sign on the origin of <code>frame_a</code> along the line from the origin of <code>frame_a</code> to the origin of <code>frame_b</code> according to the equation:</p><p class="math-container">\[f = c s\]</p><p>where <code>c</code> is the spring stiffness parameter, <code>s</code> is the distance between the origin of <code>frame_a</code> and the origin of <code>frame_b</code>.</p><p>Optionally, the mass of the spring is taken into account by a point mass located on the line between <code>frame_a</code> and <code>frame_b</code> (default: middle of the line). If the spring mass is zero, the additional equations to handle the mass are removed.</p><p><strong>Arguments:</strong></p><ul><li><code>c</code>: Spring stiffness</li><li><code>m</code>: Mass of the spring (can be zero)</li><li><code>lengthFraction</code>: Location of spring mass with respect to <code>frame_a</code> as a fraction of the distance from <code>frame_a</code> to <code>frame_b</code> (=0: at <code>frame_a</code>; =1: at <code>frame_b</code>)</li><li><code>s_unstretched</code>: Length of the spring when it is unstretched</li><li><code>kwargs</code>: are passed to <code>LineForceWithMass</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/forces.jl#L215-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.abs_rotation-Tuple{Any, Any}" href="#Multibody.abs_rotation-Tuple{Any, Any}"><code>Multibody.abs_rotation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">R2 = abs_rotation(R1, R_rel)</code></pre><ul><li><code>R1</code>: <code>Orientation</code> object to rotate frame 0 into frame 1</li><li><code>R_rel</code>: <code>Orientation</code> object to rotate frame 1 into frame 2</li><li><code>R2</code>: <code>Orientation</code> object to rotate frame 0 into frame 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L110-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.at_variables_t-Tuple" href="#Multibody.at_variables_t-Tuple"><code>Multibody.at_variables_t</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">at_variables_t(args)</code></pre><p>Emulates the <code>@variables</code> macro but does never creates array variables. Also never introuces the variable names into the calling scope.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/Multibody.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.axisRotation-Tuple{Any, Any}" href="#Multibody.axisRotation-Tuple{Any, Any}"><code>Multibody.axisRotation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">axisRotation(sequence, angle; name = :R)</code></pre><p>Generate a rotation matrix for a rotation around the specified axis.</p><ul><li><code>sequence</code>: The axis to rotate around (1: x-axis, 2: y-axis, 3: z-axis)</li><li><code>angle</code>: The angle of rotation (in radians)</li></ul><p>Returns a <code>RotationMatrix</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L186-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.gravity_acceleration-Tuple{Any}" href="#Multibody.gravity_acceleration-Tuple{Any}"><code>Multibody.gravity_acceleration</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute the gravity acceleration, resolved in world frame</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/components.jl#L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.resolve1-Tuple{RotationMatrix, Any}" href="#Multibody.resolve1-Tuple{RotationMatrix, Any}"><code>Multibody.resolve1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h1 = resolve1(R21, h2)</code></pre><p><code>R12</code> is a 3x3 matrix that transforms a vector from frame 1 to frame 2. <code>h2</code> is a vector resolved in frame 2. <code>h1</code> is the same vector in frame 1.</p><p>Typical usage:</p><pre><code class="language-julia hljs">resolve1(ori(frame_a), r_ab)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L82-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.resolve2-Tuple{RotationMatrix, Any}" href="#Multibody.resolve2-Tuple{RotationMatrix, Any}"><code>Multibody.resolve2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h2 = resolve2(R21, h1)</code></pre><p><code>R21</code> is a 3x3 matrix that transforms a vector from frame 1 to frame 2. <code>h1</code> is a vector resolved in frame 1. <code>h2</code> is the same vector in frame 2.</p><p>Typical usage:</p><pre><code class="language-julia hljs">resolve2(ori(frame_a), a_0 - g_0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L69-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.rotx" href="#Multibody.rotx"><code>Multibody.rotx</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">rotx(t, deg = false)</code></pre><p>Generate a rotation matrix for a rotation around the x-axis.</p><ul><li><code>t</code>: The angle of rotation (in radians, unless <code>deg</code> is set to true)</li><li><code>deg</code>: (Optional) If true, the angle is in degrees</li></ul><p>Returns a 3x3 rotation matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L208-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.roty" href="#Multibody.roty"><code>Multibody.roty</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">roty(t, deg = false)</code></pre><p>Generate a rotation matrix for a rotation around the y-axis.</p><ul><li><code>t</code>: The angle of rotation (in radians, unless <code>deg</code> is set to true)</li><li><code>deg</code>: (Optional) If true, the angle is in degrees</li></ul><p>Returns a 3x3 rotation matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L229-L238">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Multibody.rotz" href="#Multibody.rotz"><code>Multibody.rotz</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">rotz(t, deg = false)</code></pre><p>Generate a rotation matrix for a rotation around the z-axis.</p><ul><li><code>t</code>: The angle of rotation (in radians, unless <code>deg</code> is set to true)</li><li><code>deg</code>: (Optional) If true, the angle is in degrees</li></ul><p>Returns a 3x3 rotation matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaComputing/Multibody.jl/blob/f194f4e50d2f32bcb894fb88dae3f53190e715af/src/orientation.jl#L250-L259">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/pendulum/">Hello world: Pendulum »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 24 April 2023 07:43">Monday 24 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
